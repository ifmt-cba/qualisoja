{% extends 'base.html' %}
{% load static %}

{% block 'title' %}Nova An√°lise{% endblock 'title' %}

{% block 'body' %}

<!-- Navigation Bar -->
<nav class="bg-white shadow px-6 py-4 flex items-center justify-between">
  <button class="text-gray-700 font-semibold px-4 py-2 rounded hover:bg-gray-100">
    ‚ò∞ Menu
  </button>
  <div class="flex space-x-4 absolute left-1/2 transform -translate-x-1/2">
    <button class="text-green-700 font-semibold hover:underline">An√°lises</button>
    <button class="bg-green-200 text-green-800 font-bold px-3 py-1 rounded">Nova An√°lise</button>
    <button class="text-gray-700 hover:underline">Relat√≥rios</button>
  </div>
</nav>

<div class="max-w-4xl mx-auto px-4 py-8"> <!-- üîπ Centraliza√ß√£o aqui -->
<form method="POST" action="">
  {% csrf_token %}
  <h2 class="text-2xl font-bold mb-4">Nova An√°lise - QualiSoja</h2>

  <!-- Lote e data -->
  <div class="flex flex-col md:flex-row md:space-x-4">
    <div class="flex-1">
      <label class="block text-sm font-medium">Lote</label>
      <input type="text" placeholder="N√∫mero do lote (ex: SO-47852)" class="w-full border px-3 py-2 rounded mt-1" />
    </div>
    <div class="flex-1">
      <label class="block text-sm font-medium">Data da An√°lise</label>
      <input type="date" value="2025-04-29" class="w-full border px-3 py-2 rounded mt-1" />
    </div>
  </div>

  <!-- Umidade -->
  <details class="border rounded p-4 mb-4" open>
    <summary class="font-bold text-lg cursor-pointer">An√°lises de Umidade</summary>
    {% for i in intervalo %}
      <fieldset class="mt-2">
        <legend>An√°lise {{ i }}</legend>
        <input type="text" name="umidade[{{ i }}][horario]" placeholder="Hor√°rio + Tipo">
        <input type="text" name="umidade[{{ i }}][tara]" placeholder="Tara">
        <input type="text" name="umidade[{{ i }}][liquido]" placeholder="L√≠quido">
        <input type="text" name="umidade[{{ i }}][peso_amostra]" placeholder="Peso Amostra" value="5">
        <input type="text" name="umidade[{{ i }}][resultado]" placeholder="Resultado">
        <input type="text" name="umidade[{{ i }}][fator]" placeholder="Fator Corre√ß√£o" value="-100">
      </fieldset>
    {% endfor %}
  </details>

  <!-- Prote√≠nas -->
  <details class="border rounded p-4 mb-4">
    <summary class="font-bold text-lg cursor-pointer">An√°lises de Prote√≠nas</summary>
    {% for i in intervalo %}
      <fieldset class="mt-2">
        <legend>Prote√≠na {{ i }}</legend>
        <input type="text" name="proteina[{{ i }}][descricao]" placeholder="Hor√°rio + Tipo">
        <input type="text" name="proteina[{{ i }}][peso_amostra]" placeholder="Peso Amostra" value="0.50">
        <input type="text" name="proteina[{{ i }}][ml_gasto]" placeholder="ML Gasto">
        <input type="text" name="proteina[{{ i }}][resultado]" placeholder="Resultado">
        <input type="text" name="proteina[{{ i }}][resultado_corrigido]" placeholder="Resultado Corrigido">
      </fieldset>
    {% endfor %}
  </details>

  <!-- Teor de √ìleo -->
  <details class="border rounded p-4 mb-4">
    <summary class="font-bold text-lg cursor-pointer">An√°lises de Teor de √ìleo</summary>
    {% for i in intervalo %}
      <fieldset class="mt-2">
        <legend>Teor {{ i }}</legend>
        <input type="text" name="oleo[{{ i }}][descricao]" placeholder="Hor√°rio + Tipo">
        <input type="text" name="oleo[{{ i }}][tara]" placeholder="Tara">
        <input type="text" name="oleo[{{ i }}][liquido]" placeholder="L√≠quido">
        <input type="text" name="oleo[{{ i }}][peso_amostra]" placeholder="Peso Amostra" value="2.00">
        <input type="text" name="oleo[{{ i }}][resultado]" placeholder="Resultado">
      </fieldset>
    {% endfor %}
  </details>

  <!-- Micelas -->
  <details class="border rounded p-4 mb-4">
    <summary class="font-bold text-lg cursor-pointer">An√°lises de Micelas</summary>
    {% for i in intervalo %}
      <fieldset class="mt-2">
        <legend>Micela {{ i }}</legend>
        <input type="text" name="micelas[{{ i }}][descricao]" placeholder="Hor√°rio + Tipo">
        <input type="text" name="micelas[{{ i }}][tara]" placeholder="Tara">
        <input type="text" name="micelas[{{ i }}][liquido]" placeholder="L√≠quido">
        <input type="text" name="micelas[{{ i }}][peso_amostra]" placeholder="Peso Amostra" value="5">
        <input type="text" name="micelas[{{ i }}][resultado]" placeholder="Resultado">
      </fieldset>
    {% endfor %}
  </details>

  <div class="flex justify-end mt-6">
    <button class="bg-green-700 text-white px-6 py-2 rounded font-semibold">Salvar An√°lise</button>
  </div>
</form>
</div>

{% endblock 'body' %}
